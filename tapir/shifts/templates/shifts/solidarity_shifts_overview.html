{% extends "shifts/base.html" %}
{% load statistics %}
{% load i18n %}
{% load core %}
{% load static %}
{% block head %}
    <script src="{% static 'statistics/chart_4.4.0.js' %}"></script>
    <script src="{% static 'statistics/tapir_charts.js' %}" defer></script>
{% endblock head %}
{% block content %}
    <div class="row">
        <div class="col-xl-6">
            <div class="card mb-2">
                <h5 class="card-header d-flex justify-content-between align-items-center">{% translate "Available" %}</h5>
                <div class="card-body">
                    {% if available_solidarity_shifts == 1 %}
                        {% blocktranslate %}
                        <p>There is {{ available_solidarity_shifts }} solidarity shift available at the moment</p>
                        {% endblocktranslate %}
                    {% else %}
                        {% blocktranslate %}
                        <p>There are {{ available_solidarity_shifts }} solidarity shifts available at the moment</p>
                        {% endblocktranslate %}
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col-xl-6">
            <div class="card mb-2">
                <h5 class="card-header d-flex justify-content-between align-items-center">{% translate "Used" %}</h5>
                <div class="card-body">
                    {% if used_solidarity_shifts_total == 1 %}
                        {% blocktranslate %}
                        <p>{{ used_solidarity_shifts_total }} solidarity shift has been used in total</p>
                        {% endblocktranslate %}
                    {% else %}
                        {% blocktranslate %}
                        <p>{{ used_solidarity_shifts_total }} solidarity shifts have been used in total</p>
                        {% endblocktranslate %}
                    {% endif %}
                    {% translate "Solidarity shifts used" as chart_name %}
                    {% on_demand_chart chart_name "shifts:used_solidarity_shifts_json" %}
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xl-6">
            <div class="card mb-2">
                <h5 class="card-header d-flex justify-content-between align-items-center">{% translate "Gifted" %}</h5>
                <div class="card-body">
                    {% if gifted_solidarity_shifts_total == 1 %}
                        {% blocktranslate %}
                        <p>{{ gifted_solidarity_shifts_total }} solidarity shift has been gifted in total</p>
                        {% endblocktranslate %}
                    {% else %}
                        {% blocktranslate %}
                        <p>{{ gifted_solidarity_shifts_total }} solidarity shifts have been gifted in total</p>
                        {% endblocktranslate %}
                    {% endif %}
                    {% translate "Solidarity shifts gifted" as chart_name %}
                    {% on_demand_chart chart_name "shifts:gifted_solidarity_shifts_json" %}
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
